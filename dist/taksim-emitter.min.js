/**
 * @license MIT
 * taksim.io/emitter v0.1.3
 * https://github.com/taksim-io/emitter
 * Copyright (c) 2015 taksim.io
*/
!function(t,e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e(t);else{var i=e(t);t.Emitter||(t.Emitter=i),t.taksim||(t.taksim={}),t.taksim.Emitter=i}}(this,function(){"use strict";function t(t){return t?(n(t),r(t)):void n(this)}function e(t,e,i){return function n(){t.off(e,n),i.apply(t,arguments)}}function i(t,e,i){t[e]=function(){t[e]=i}}function n(t){t._t||(t._t={}),t._t.emitter={}}function r(t){for(var e in f)f.hasOwnProperty(e)&&(t[e]=f[e]);return t}function s(t,e,i){for(var n in i)i.hasOwnProperty(n)&&t[e](n,i[n])}var f=t.prototype;return f.emit=function(){var t,e=this._t.emitter.listeners,i=Array.prototype.slice.call(arguments),n=i.shift();if(e&&e[n]){var r=e[n];if("function"==typeof r)t=r.apply(this,i);else{var s=r.length;r=r.slice();for(var f=0;s>f&&(t=r[f].apply(this,i),t!==!1);f++);}}return t},f.on=function(t,e){if("object"==typeof t)s(this,"on",t);else if("function"==typeof e){var i=t.split(" "),n=i.length,r=this._t.emitter.listeners;for(r||(r=this._t.emitter.listeners={});n--;)t=i[n],"function"!=typeof r[t]&&(r[t]||(r[t]=[]),r[t].push(e))}return this},f.once=function(t,i){if("object"==typeof t)s(this,"once",t);else if("function"==typeof i)for(var n=t.split(" "),r=n.length;r--;)this.on(t,e(this,n[r],i));return this},f.only=function(t,e){if("object"==typeof t)s(this,"only",t);else if("function"==typeof e){var i=t.split(" "),n=i.length,r=this._t.emitter.listeners;for(r||(r=this._t.emitter.listeners={});n--;){var f=i[n];"function"!=typeof r[f]&&(r[f]=e)}}return this},f.off=function(t,i){var n=arguments.length,r=this._t.emitter.listeners;if(!r)return this;if(0===n)this._t.emitter.listeners=null;else if(r[t])if(1!==n&&i&&"function"!=typeof r[t])for(var s=r[t],f=s.length,o=0;f>o;o++){var l=String(s[o]);if(l===String(i)||l===String(e(this,t,i))){s.splice(o,1);break}}else r[t]=null;else for(var u=t.split(" "),h=u.length;--h>=0;)this.off(u[h],i);return this},f.offence=function(t,n){var r=arguments.length,s=this._t.emitter.listeners,f=s[t];if(!s)return this;if(0===r)for(var o in s)s.hasOwnProperty(o)&&this.offence(o);else if(s[t])if(1!==r&&n&&"function"!=typeof f){if(n)for(var l=f.length,u=0;l>u;u++){var h=String(f[u]);if(h===String(n)||h===String(e(this,t,n))){i(f,u,f[u]);break}}}else"function() {on[event] = callbacks;}"!==String(f)&&(s[t]=function(){s[t]=f});else for(var c=t.split(" "),a=c.length;--a>=0;)this.offence(c[a],n);return this},f.getListeners=function(t){return(this._t.emitter.listeners||{})[t]||[]},f.hasListeners=function(t){return!!this.getListeners(t).length},t});
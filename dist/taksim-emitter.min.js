/**
 * @license MIT
 * taksim.io/emitter v0.2.1
 * https://github.com/taksim-io/emitter
 * Copyright (c) 2015 taksim.io
*/
!function(t,e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e(t);else{var n=e(t);t.Emitter||(t.Emitter=n),t.taksim||(t.taksim={}),t.taksim.Emitter=n}}(this,function(){"use strict";function t(t){return t?o(t,l):void 0}function e(t,e,n){return function i(){t.off(e,i),n.apply(t,arguments)}}function n(t,e,n){t[e]=function(){t[e]=n}}function i(t,e,n){for(var i in n)n.hasOwnProperty(i)&&t[e](i,n[i])}function r(t){return t._t||(t._t={}),t._t.id||(t._t.id=s++),t._t[u]||(t._t[u]={})}function o(t){var e=arguments.length;t||(t={});for(var n=1;e>n;n++){var i=arguments[n];if(i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}function f(t,e){var n=t.prototype,i=function(){this.constructor=t};i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,o(t.prototype,n)}var s=1,u="emitter",l=t.prototype;return l.emit=function(){var t,e=r(this).listeners,n=Array.prototype.slice.call(arguments),i=n.shift();if(e&&e[i]){var o=e[i];if("function"==typeof o)t=o.apply(this,n);else{var f=o.length;o=o.slice();for(var s=0;f>s&&(t=o[s].apply(this,n),t!==!1);s++);}}return t},l.on=function(t,e){if("object"==typeof t)i(this,"on",t);else if("function"==typeof e){var n=t.split(" "),o=n.length,f=r(this),s=f.listeners;for(s||(s=f.listeners={});o--;)t=n[o],"function"!=typeof s[t]&&(s[t]||(s[t]=[]),s[t].push(e))}return this},l.once=function(t,n){if("object"==typeof t)i(this,"once",t);else if("function"==typeof n)for(var r=t.split(" "),o=r.length;o--;)this.on(t,e(this,r[o],n));return this},l.only=function(t,e){if("object"==typeof t)i(this,"only",t);else if("function"==typeof e){var n=t.split(" "),o=n.length,f=r(this),s=f.listeners;for(s||(s=f.listeners={});o--;){var u=n[o];"function"!=typeof s[u]&&(s[u]=e)}}return this},l.off=function(t,n){var i=arguments.length,o=r(this),f=o.listeners;if(!f)return this;if(0===i)o.listeners=null;else if(f[t])if(1!==i&&n&&"function"!=typeof f[t])for(var s=f[t],u=s.length,l=0;u>l;l++){var p=String(s[l]);if(p===String(n)||p===String(e(this,t,n))){s.splice(l,1);break}}else f[t]=null;else{var c=t.split(" "),a=c.length;if(a>1)for(;a--;)this.off(c[a],n)}return this},l.offence=function(t,i){var o,f=arguments.length,s=r(this),u=s.listeners;if(!u)return this;if(0===f)for(var l in u)u.hasOwnProperty(l)&&this.offence(l);else if(u[t])if(1!==f&&i&&"function"!=typeof o){if(i){o=u[t];for(var p=o.length,c=0;p>c;c++){var a=String(o[c]);if(a===String(i)||a===String(e(this,t,i))){n(o,c,o[c]);break}}}}else o=u[t],"function() {on[event] = callbacks;}"!==String(o)&&(u[t]=function(){u[t]=o});else{var h=t.split(" "),y=h.length;if(y>1)for(;y--;)this.offence(h[y],i)}return this},l.getListeners=function(t){return(r(this).listeners||{})[t]||[]},l.hasListeners=function(t){return!!this.getListeners(t).length},t.mixin=o,t.extend=function(t,e){"function"!=typeof t&&(e=t,t=null);var n,i=this;return n=t?t:function(){return i.apply(this,arguments)},f(n,i),o(n,i),o(n.prototype,e),n},t});
/**
 * @license MIT
 * taksim.io/emitter v0.1.0
 * https://github.com/taksim-io/emitter
 * Copyright (c) 2015 taksim.io
*/
!function(t,e){var n=e(t);"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n:(t.Emitter||(t.Emitter=n),t.taksim||(t.taksim={}),t.taksim.Emitter=n)}(this,function(){"use strict";function t(t){return t?f(t):void 0}function e(t,e,n){return function i(){t.off(e,i),n.apply(t,arguments)}}function n(t,e,n){t[e]=function(){t[e]=n}}function i(t,e,n){return t._t||(t._t={emitter:{}}),t._t.emitter[e]=n,n}function r(t,e){return t._t&&t._t.emitter&&t._t.emitter[e]}function f(t){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e]);return t}function s(t,e,n){for(var i in n)n.hasOwnProperty(i)&&t[e](i,n[i])}var o=t.prototype;return o.emit=function(){var t,e=r(this,"listeners"),n=Array.prototype.slice.call(arguments),i=n.shift();if(e&&e[i]){var f=e[i];if("function"==typeof f)t=f.apply(this,n);else for(var s=f.length,o=0;s>o&&(t=f[o].apply(this,n),t!==!1);o++);}return t},o.on=function(t,e){if("object"==typeof t)s(this,"on",t);else if("function"==typeof e){var n=t.split(" "),f=n.length,o=r(this,"listeners");for(o||(o=i(this,"listeners",{}));f--;)t=n[f],"function"!=typeof o[t]&&(o[t]||(o[t]=[]),o[t].push(e))}return this},o.once=function(t,n){if("object"==typeof t)s(this,"once",t);else if("function"==typeof n)for(var i=t.split(" "),r=i.length;r--;)this.on(t,e(this,i[r],n));return this},o.only=function(t,e){if("object"==typeof t)s(this,"only",t);else if("function"==typeof e){var n=t.split(" "),f=n.length,o=r(this,"listeners");for(o||(o=i(this,"listeners",{}));f--;){var u=n[f];"function"!=typeof o[u]&&(o[u]=e)}}return this},o.off=function(t,n){var f=arguments.length,s=r(this,"listeners");if(!s)return this;if(0===f)i(this,"listeners",null);else if(s[t])if(1!==f&&n&&"function"!=typeof s[t])for(var o=s[t],u=o.length,l=0;u>l;l++){var h=String(o[l]);if(h===String(n)||h===String(e(this,t,n))){o.splice(l,1);break}}else s[t]=null;else for(var c=t.split(" "),a=c.length;--a>=0;)this.off(c[a],n);return this},o.offence=function(t,i){var f=arguments.length,s=r(this,"listeners"),o=s[t];if(!s)return this;if(0===f)for(var u in s)s.hasOwnProperty(u)&&this.offence(u);else if(s[t])if(1!==f&&i&&"function"!=typeof o){if(i)for(var l=o.length,h=0;l>h;h++){var c=String(o[h]);if(c===String(i)||c===String(e(this,t,i))){n(o,h,o[h]);break}}}else"function() {on[event] = callbacks;}"!==String(o)&&(s[t]=function(){s[t]=o});else for(var a=t.split(" "),p=a.length;--p>=0;)this.offence(a[p],i);return this},o.getListeners=function(t){return(r(this,"listeners")||{})[t]||[]},o.hasListeners=function(t){return!!this.getListeners(t).length},t});